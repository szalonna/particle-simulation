console.log("Hello from shared.ts");const t={isRunning:!1,radius:2,edgeDumping:0,friction:50,nucleusRepulsion:.5,margin:0,mouseInteraction:!1,backgroundOpacity:1,gravity:{enabled:!1,force:.1},randomizeRules:()=>{!function(){for(let t of r)t.distance=Math.round(1e3*Math.random()),t.attraction=2*Math.random()-1;!function t(e){for(let t of e.controllers)t.updateDisplay();for(let n of e.folders)t(n)}(d)}()}},e=new lil.GUI;e.close();const n=e.addFolder("Global settings");n.add(t,"isRunning").name("Is running"),n.add(t,"radius",1,5).name("Particle radius"),n.add(t,"edgeDumping",0,1,.01).name("Edge dumping"),n.add(t,"friction",0,1e3,.1).name("Friction"),n.add(t,"nucleusRepulsion",0,1,.01).name("Nucleus repulsion"),n.add(t,"margin",0,100,1).name("Margin"),n.add(t,"mouseInteraction").name("Mouse interaction"),n.add(t,"backgroundOpacity",0,1,.01).name("Background opacity"),n.add(t,"randomizeRules").name("Randomize rules"),n.add(t.gravity,"enabled").name("Gravity enabled"),n.add(t.gravity,"force",0,1,.01).name("Gravity force");const i=new class{canvas;ctx;get width(){return this.canvas.width}get height(){return this.canvas.height}resizeCanvas(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}constructor(t){this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.resizeCanvas(),window.addEventListener("resize",this.resizeCanvas)}clear(t=1){this.ctx.fillStyle=`rgba(0, 0, 0, ${t})`,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}box(t,e,n,i,a){this.ctx.fillStyle=a,this.ctx.strokeRect(t,e,n,i)}circle(t,e,n,i){this.ctx.fillStyle=i,this.ctx.beginPath(),this.ctx.ellipse(t-n/2,e-n/2,n,n,0,0,2*Math.PI),this.ctx.fill()}addEventListener(t,e){this.canvas.addEventListener(t,e)}}("canvas"),a=["Group 1","Group 2","Group 3"],o={background:`rgba(0, 0, 0, ${t.backgroundOpacity})`,groups:{[a[0]]:"#FF18C8",[a[1]]:"#1BEAFF",[a[2]]:"#7BFF00"}},r=[];for(const e of a){for(let t of a)r.push({who:e,to:t,distance:100,attraction:0});r.push({who:e,to:"mouse",distance:100,attraction:0}),r.push({who:e,to:"gravity",distance:Number.MAX_VALUE,attraction:()=>t.gravity.force})}const d=e.addFolder("Rules");for(const t of(d.close(),a)){let e=r.filter(e=>e.who===t&&"gravity"!==e.to),n=d.addFolder(t);for(let i of(n.addColor(o.groups,t).name("Color"),e)){let t=n.addFolder(i.to);t.add(i,"distance",0,1e3).name("Distance"),t.add(i,"attraction",-1,1,.01).name("Attraction"),t.close()}n.close()}const s={x:0,y:0},c=a.flatMap(t=>Array.from({length:300}).map(()=>({x:Math.random()*i.width,y:Math.random()*i.height,group:t,vx:(Math.random()-1)/1e3,vy:(Math.random()-1)/1e3})));function u(e,n){let a=r.find(t=>t.who===e.group&&t.to===n.group);if(!a)return;let o=0,d=0,[s,c,u]=function(t,e){let n=e.x-t.x,i=e.y-t.y;return[Math.sqrt(n*n+i*i),n,i]}(e,n);if(s>2*t.radius&&s<a.distance){let t=0;o=(t=("function"==typeof a.attraction?a.attraction():a.attraction)/s)*c,d=t*u}else if(s<2*t.radius){let e=.01*t.nucleusRepulsion*(1/(s/(2*t.radius)));o=-1*e*c,d=-1*e*u,n.vx=-1*(n.vx+o)*(1-t.friction/2e3)*(.9*Math.random()+.2),n.vy=-1*(n.vy+d)*(1-t.friction/2e3)*(.9*Math.random()+.2)}e.vx=(e.vx+o)*(1-t.friction/2e3),e.vy=(e.vy+d)*(1-t.friction/2e3),e.x+=e.vx,e.y+=e.vy,function(e){let n=i.height/2*(t.margin/100),a=i.width/2*(t.margin/100);e.y>i.height-n&&(e.vy*=-1+t.edgeDumping,e.y=i.height-n),e.y<n&&(e.vy*=-1+t.edgeDumping,e.y=n),e.x>i.width-a&&(e.vx*=-1+t.edgeDumping,e.x=i.width-a),e.x<0+a&&(e.vx*=-1+t.edgeDumping,e.x=a)}(e)}!function e(){for(let e of(t.isRunning&&function(){for(let e of c){for(let t of c)e!==t&&u(e,t);t.gravity.enabled&&u(e,{x:e.x+.5*Math.random()-.25,y:i.height,group:"gravity",vx:0,vy:t.gravity.force}),t.mouseInteraction&&u(e,{x:s.x,y:s.y,group:"mouse",vx:0,vy:0})}}(),i.clear(t.backgroundOpacity),c))"mouse"!==e.group&&"gravity"!==e.group&&i.circle(e.x,e.y,t.radius,o.groups[e.group]);(function(){let e=i.height/2*(t.margin/100),n=i.width/2*(t.margin/100);i.box(n-t.radius,e-t.radius,i.width-2*n+2*t.radius,i.height-2*e+2*t.radius,"white")})(),window.requestAnimationFrame(e)}(),i.addEventListener("mousemove",t=>{s.x=t.clientX,s.y=t.clientY}),i.addEventListener("mousedown",e=>{t.mouseInteraction=!0}),i.addEventListener("mouseup",e=>{t.mouseInteraction=!1});
//# sourceMappingURL=index.33d03dd0.js.map

console.log("Hello from shared.ts");const t={isRunning:!1,radius:2,edgeDumping:0,friction:50,nucleusRepulsion:.5,margin:0,mouseInteraction:!1,backgroundOpacity:1,gravity:{enabled:!1,force:.1},randomizeRules:()=>{!function(){for(let t of r)t.distance=Math.round(1e3*Math.random()),t.attraction=2*Math.random()-1;!function t(e){for(let t of e.controllers)t.updateDisplay();for(let i of e.folders)t(i)}(d)}()}},e=new lil.GUI;e.close();const i=e.addFolder("Global settings");i.add(t,"isRunning").name("Is running"),i.add(t,"radius",1,5).name("Particle radius"),i.add(t,"edgeDumping",0,1,.01).name("Edge dumping"),i.add(t,"friction",0,1e3,.1).name("Friction"),i.add(t,"nucleusRepulsion",0,1,.01).name("Nucleus repulsion"),i.add(t,"margin",0,100,1).name("Margin"),i.add(t,"mouseInteraction").name("Mouse interaction"),i.add(t,"backgroundOpacity",0,1,.01).name("Background opacity"),i.add(t,"randomizeRules").name("Randomize rules"),i.add(t.gravity,"enabled").name("Gravity enabled"),i.add(t.gravity,"force",0,1,.01).name("Gravity force");const n=new class{get width(){return this.canvas.width}get height(){return this.canvas.height}resizeCanvas(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}constructor(t){this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.resizeCanvas(),window.addEventListener("resize",this.resizeCanvas)}clear(t=1){this.ctx.fillStyle=`rgba(0, 0, 0, ${t})`,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}box(t,e,i,n,a){this.ctx.fillStyle=a,this.ctx.strokeRect(t,e,i,n)}circle(t,e,i,n){this.ctx.fillStyle=n,this.ctx.beginPath(),this.ctx.ellipse(t-i/2,e-i/2,i,i,0,0,2*Math.PI),this.ctx.fill()}addEventListener(t,e){this.canvas.addEventListener(t,e)}}("canvas"),a=["Group 1","Group 2","Group 3"],o={background:`rgba(0, 0, 0, ${t.backgroundOpacity})`,groups:{[a[0]]:"#FF18C8",[a[1]]:"#1BEAFF",[a[2]]:"#7BFF00"}},r=[];for(const e of a){for(let t of a)r.push({who:e,to:t,distance:100,attraction:0});r.push({who:e,to:"mouse",distance:100,attraction:0}),r.push({who:e,to:"gravity",distance:Number.MAX_VALUE,attraction:()=>t.gravity.force})}const d=e.addFolder("Rules");for(const t of(d.close(),a)){let e=r.filter(e=>e.who===t&&"gravity"!==e.to),i=d.addFolder(t);for(let n of(i.addColor(o.groups,t).name("Color"),e)){let t=i.addFolder(n.to);t.add(n,"distance",0,1e3).name("Distance"),t.add(n,"attraction",-1,1,.01).name("Attraction"),t.close()}i.close()}const s={x:0,y:0},c=a.flatMap(t=>Array.from({length:300}).map(()=>({x:Math.random()*n.width,y:Math.random()*n.height,group:t,vx:(Math.random()-1)/1e3,vy:(Math.random()-1)/1e3})));function u(e,i){let a=r.find(t=>t.who===e.group&&t.to===i.group);if(!a)return;let o=0,d=0,[s,c,u]=function(t,e){let i=e.x-t.x,n=e.y-t.y;return[Math.sqrt(i*i+n*n),i,n]}(e,i);if(s>2*t.radius&&s<a.distance){let t=0;o=(t=("function"==typeof a.attraction?a.attraction():a.attraction)/s)*c,d=t*u}else if(s<2*t.radius){let e=.01*t.nucleusRepulsion*(1/(s/(2*t.radius)));o=-1*e*c,d=-1*e*u,i.vx=-1*(i.vx+o)*(1-t.friction/2e3)*(.9*Math.random()+.2),i.vy=-1*(i.vy+d)*(1-t.friction/2e3)*(.9*Math.random()+.2)}e.vx=(e.vx+o)*(1-t.friction/2e3),e.vy=(e.vy+d)*(1-t.friction/2e3),e.x+=e.vx,e.y+=e.vy,function(e){let i=n.height/2*(t.margin/100),a=n.width/2*(t.margin/100);e.y>n.height-i&&(e.vy*=-1+t.edgeDumping,e.y=n.height-i),e.y<i&&(e.vy*=-1+t.edgeDumping,e.y=i),e.x>n.width-a&&(e.vx*=-1+t.edgeDumping,e.x=n.width-a),e.x<0+a&&(e.vx*=-1+t.edgeDumping,e.x=a)}(e)}!function e(){for(let e of(t.isRunning&&function(){for(let e of c){for(let t of c)e!==t&&u(e,t);t.gravity.enabled&&u(e,{x:e.x+.5*Math.random()-.25,y:n.height,group:"gravity",vx:0,vy:t.gravity.force}),t.mouseInteraction&&u(e,{x:s.x,y:s.y,group:"mouse",vx:0,vy:0})}}(),n.clear(t.backgroundOpacity),c))"mouse"!==e.group&&"gravity"!==e.group&&n.circle(e.x,e.y,t.radius,o.groups[e.group]);(function(){let e=n.height/2*(t.margin/100),i=n.width/2*(t.margin/100);n.box(i-t.radius,e-t.radius,n.width-2*i+2*t.radius,n.height-2*e+2*t.radius,"white")})(),window.requestAnimationFrame(e)}(),n.addEventListener("mousemove",t=>{s.x=t.clientX,s.y=t.clientY}),n.addEventListener("mousedown",e=>{t.mouseInteraction=!0}),n.addEventListener("mouseup",e=>{t.mouseInteraction=!1});
//# sourceMappingURL=index.388674b4.js.map
